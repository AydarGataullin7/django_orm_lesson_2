# Система мониторинга посещений хранилища с использованием Django ORM.

## Функциональность

### 1. Отслеживание активных посещений
- Показывает кто сейчас находится в хранилище
- Отображает время входа и длительность пребывания
- Автоматическое обновление времени для активных посещений

### 2. История посещений по пропускам
- Просмотр всех визитов конкретного сотрудника
- Определение подозрительных визитов (дольше 60 минут)
- Форматирование времени в читаемый вид

### 3. Безопасная обработка ошибок
- Автоматическая обработка несуществующих пропусков (404 ошибка)
- Защита от утечки чувствительной информации

## Требования
- Python 3.8 - 3.13** (протестировано с Python 3.13.5)
- Библиотеки из requirements.txt

##  Установка и запуск

### 1. Клонирование и настройка
```bash
git clone <repository-url>
cd django-orm-watching-storage-part-2-master
pip install -r requirements.txt
```
### 2.Настройка окружения

Перед запуском проекта необходимо настроить переменные окружения. 
Создайте файл `.env` в корне проекта со следующими переменными:

## Обязательные переменные:
DB_HOST - Хост базы данных
DB_PORT - Порт базы данных
DB_NAME - Имя базы данных
DB_USER - Имя пользователя БД
DB_PASSWORD - Пароль пользователя БД
SECRET_KEY - Секретный ключ Django

## Опциональные переменные:
DEBUG - Режим отладки (по умолчанию True)
ALLOWED_HOSTS - Разрешенные хосты (по умолчанию localhost, 127.0.0.1)

### 3. Настройка базы данных
Отредактируйте ```project/settings.py``` для вашей БД.

### 4. Запуск сервера
```bash
python manage.py runserver 0.0.0.0:8000
```
### 5. Доступ к сайту
Откройте в браузере: ```http://localhost:8000```

## Использование
Страницы сайта:
1. Главная страница
- Отображается список всех пропусков
- Кликните на пропуск для просмотра истории визитов

2. Информация о хранилище
- Список людей, находящихся в хранилище в реальном времени
- Время входа и длительность пребывания

3. Информация о пропуске
- Полная история визитов сотрудника

- Отображение подозрительных визитов
